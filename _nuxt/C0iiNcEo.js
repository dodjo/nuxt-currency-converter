import{f as y,h as z,o as V,w as p,a as g,b as d,T as P,e as W,d as B,i as x,_ as w,U as M,V as X,W as $,X as f,Y,k as Z,Z as N,m as D,$ as G,a0 as J,a1 as O,a2 as Q,a3 as C,a4 as j,a5 as I,a6 as ee,a7 as te,a8 as ne,a9 as ae,aa as oe,ab as re,F as U,c as se,ac as ie}from"./CcZ1slfq.js";import{_ as ce}from"./C96lVOyj.js";import{u as E,C as ue,_ as le}from"./4BHhir0m.js";const de={class:"header"},fe={class:"header__nav"},_e={class:"header__select"},me=y({__name:"Header",setup(o){const n=E(),t=Object.values(ue).map(s=>({label:s,value:s}));return(s,e)=>{const r=P,i=W,l=ce,c=le;return V(),z(c,null,{default:p(()=>[g("header",de,[d(r,{name:"arcticons:priceconverter",class:"size-10"}),g("nav",fe,[d(i,{class:"header__link",to:"/"},{default:p(()=>e[1]||(e[1]=[B("Главная")])),_:1}),d(i,{class:"header__link",to:"/convert"},{default:p(()=>e[2]||(e[2]=[B("Конвертация")])),_:1})]),g("div",_e,[d(l,{modelValue:x(n).baseCurrency,"onUpdate:modelValue":e[0]||(e[0]=u=>x(n).baseCurrency=u),items:x(t)},null,8,["modelValue","items"])])])]),_:1})}}}),ve=w(me,[["__scopeId","data-v-5368b96e"]]),F=(o="RouteProvider")=>y({name:o,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const t=n.renderKey,s=n.route,e={};for(const r in n.route)Object.defineProperty(e,r,{get:()=>t===n.renderKey?n.route[r]:s[r],enumerable:!0});return M($,X(e)),()=>f(n.vnode,{ref:n.vnodeRef})}}),pe=F(),L=new WeakMap,ge=y({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(o,{attrs:n,slots:t,expose:s}){const e=Y(),r=Z(),i=O($,null);let l;s({pageRef:r});const c=O(Q,null);let u;const h=e.deferHydration();if(e.isHydrating){const a=e.hooks.hookOnce("app:error",h);N().beforeEach(a)}o.pageKey&&D(()=>o.pageKey,(a,k)=>{a!==k&&e.callHook("page:loading:start")});let _=!1;{const a=N().beforeResolve(()=>{_=!1});G(()=>{a()})}return()=>f(J,{name:o.name,route:o.route,...n},{default:a=>{const k=he(i,a.route,a.Component),K=i&&i.matched.length===a.route.matched.length;if(!a.Component){if(u&&!K)return u;h();return}if(u&&c&&!c.isCurrent(a.route))return u;if(k&&i&&(!c||c!=null&&c.isCurrent(i)))return K?u:null;const m=C(a,o.pageKey),H=ke(i,a.route,a.Component);!e.isHydrating&&l===m&&!H&&j(()=>{_=!0,e.callHook("page:loading:end")}),l=m;const R=!!(o.transition??a.route.meta.pageTransition??I),q=R&&ye([o.transition,a.route.meta.pageTransition,I,{onBeforeLeave(){e._runningTransition=!0},onAfterLeave(){delete e._runningTransition,e.callHook("page:transition:finish",a.Component)}}]),S=o.keepalive??a.route.meta.keepalive??ee;return u=te(R&&q,ne(S,f(ae,{suspensible:!0,onPending:()=>e.callHook("page:start",a.Component),onResolve:()=>{j(()=>e.callHook("page:finish",a.Component).then(()=>{if(!_&&!H)return _=!0,e.callHook("page:loading:end")}).finally(h))}},{default:()=>{const T={key:m||void 0,vnode:t.default?Re(t.default,a):a.Component,route:a.route,renderKey:m||void 0,trackRootNodes:R,vnodeRef:r};if(!S)return f(pe,T);const b=a.Component.type,A=b;let v=L.get(A);return v||(v=F(b.name||b.__name),L.set(A,v)),f(v,T)}}))).default(),u}})}});function ye(o){const n=o.filter(Boolean).map(t=>({...t,onAfterLeave:t.onAfterLeave?oe(t.onAfterLeave):void 0}));return re(...n)}function he(o,n,t){if(!o)return!1;const s=n.matched.findIndex(e=>{var r;return((r=e.components)==null?void 0:r.default)===(t==null?void 0:t.type)});return!s||s===-1?!1:n.matched.slice(0,s).some((e,r)=>{var i,l,c;return((i=e.components)==null?void 0:i.default)!==((c=(l=o.matched[r])==null?void 0:l.components)==null?void 0:c.default)})||t&&C({route:n,Component:t})!==C({route:o,Component:t})}function ke(o,n,t){return o?n.matched.findIndex(e=>{var r;return((r=e.components)==null?void 0:r.default)===(t==null?void 0:t.type)})<n.matched.length-1:!1}function Re(o,n){const t=o(n);return t.length===1?f(t[0]):f(U,void 0,t)}const be={class:"my-5"},xe=y({__name:"default",setup(o){return E().fetchRates(),(t,s)=>{const e=ve,r=ge;return V(),se(U,null,[d(e),g("div",be,[d(ie,{name:"page",mode:"out-in"},{default:p(()=>[d(r)]),_:1})])],64)}}}),Se=w(xe,[["__scopeId","data-v-47efb137"]]);export{Se as default};
