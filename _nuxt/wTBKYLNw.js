import{f as g,h as q,o as w,w as b,a as p,b as f,T as z,e as P,d as B,i as x,_ as W,U as M,V as X,W as I,X as d,Y,k as Z,Z as N,m as D,$ as G,a0 as J,a1 as O,a2 as Q,a3 as C,a4 as j,a5 as L,a6 as ee,a7 as te,a8 as ne,a9 as ae,aa as oe,ab as re,F as $,c as se}from"./DqG09d24.js";import{_ as ie}from"./BE8WYnSH.js";import{u as U,C as ce,_ as ue}from"./DU63HNPg.js";const le={class:"header"},de={class:"header__nav"},fe={class:"header__select"},_e=g({__name:"Header",setup(o){const n=U(),t=Object.values(ce).map(s=>({label:s,value:s}));return(s,e)=>{const r=z,i=P,l=ie,c=ue;return w(),q(c,null,{default:b(()=>[p("header",le,[f(r,{name:"arcticons:priceconverter",class:"size-10"}),p("nav",de,[f(i,{class:"header__link",to:"/"},{default:b(()=>e[1]||(e[1]=[B("Главная")])),_:1}),f(i,{class:"header__link",to:"/convert"},{default:b(()=>e[2]||(e[2]=[B("Конвертация")])),_:1})]),p("div",fe,[f(l,{modelValue:x(n).baseCurrency,"onUpdate:modelValue":e[0]||(e[0]=u=>x(n).baseCurrency=u),items:x(t)},null,8,["modelValue","items"])])])]),_:1})}}}),me=W(_e,[["__scopeId","data-v-5368b96e"]]),E=(o="RouteProvider")=>g({name:o,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const t=n.renderKey,s=n.route,e={};for(const r in n.route)Object.defineProperty(e,r,{get:()=>t===n.renderKey?n.route[r]:s[r],enumerable:!0});return M(I,X(e)),()=>d(n.vnode,{ref:n.vnodeRef})}}),ve=E(),V=new WeakMap,pe=g({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(o,{attrs:n,slots:t,expose:s}){const e=Y(),r=Z(),i=O(I,null);let l;s({pageRef:r});const c=O(Q,null);let u;const y=e.deferHydration();if(e.isHydrating){const a=e.hooks.hookOnce("app:error",y);N().beforeEach(a)}o.pageKey&&D(()=>o.pageKey,(a,h)=>{a!==h&&e.callHook("page:loading:start")});let _=!1;{const a=N().beforeResolve(()=>{_=!1});G(()=>{a()})}return()=>d(J,{name:o.name,route:o.route,...n},{default:a=>{const h=ye(i,a.route,a.Component),K=i&&i.matched.length===a.route.matched.length;if(!a.Component){if(u&&!K)return u;y();return}if(u&&c&&!c.isCurrent(a.route))return u;if(h&&i&&(!c||c!=null&&c.isCurrent(i)))return K?u:null;const m=C(a,o.pageKey),H=he(i,a.route,a.Component);!e.isHydrating&&l===m&&!H&&j(()=>{_=!0,e.callHook("page:loading:end")}),l=m;const k=!!(o.transition??a.route.meta.pageTransition??L),F=k&&ge([o.transition,a.route.meta.pageTransition,L,{onBeforeLeave(){e._runningTransition=!0},onAfterLeave(){delete e._runningTransition,e.callHook("page:transition:finish",a.Component)}}]),S=o.keepalive??a.route.meta.keepalive??ee;return u=te(k&&F,ne(S,d(ae,{suspensible:!0,onPending:()=>e.callHook("page:start",a.Component),onResolve:()=>{j(()=>e.callHook("page:finish",a.Component).then(()=>{if(!_&&!H)return _=!0,e.callHook("page:loading:end")}).finally(y))}},{default:()=>{const T={key:m||void 0,vnode:t.default?ke(t.default,a):a.Component,route:a.route,renderKey:m||void 0,trackRootNodes:k,vnodeRef:r};if(!S)return d(ve,T);const R=a.Component.type,A=R;let v=V.get(A);return v||(v=E(R.name||R.__name),V.set(A,v)),d(v,T)}}))).default(),u}})}});function ge(o){const n=o.filter(Boolean).map(t=>({...t,onAfterLeave:t.onAfterLeave?oe(t.onAfterLeave):void 0}));return re(...n)}function ye(o,n,t){if(!o)return!1;const s=n.matched.findIndex(e=>{var r;return((r=e.components)==null?void 0:r.default)===(t==null?void 0:t.type)});return!s||s===-1?!1:n.matched.slice(0,s).some((e,r)=>{var i,l,c;return((i=e.components)==null?void 0:i.default)!==((c=(l=o.matched[r])==null?void 0:l.components)==null?void 0:c.default)})||t&&C({route:n,Component:t})!==C({route:o,Component:t})}function he(o,n,t){return o?n.matched.findIndex(e=>{var r;return((r=e.components)==null?void 0:r.default)===(t==null?void 0:t.type)})<n.matched.length-1:!1}function ke(o,n){const t=o(n);return t.length===1?d(t[0]):d($,void 0,t)}const Re={class:"my-5"},Ke=g({__name:"default",setup(o){return U().fetchRates(),(t,s)=>{const e=me,r=pe;return w(),se($,null,[f(e),p("div",Re,[f(r)])],64)}}});export{Ke as default};
